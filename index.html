<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Jere Barber | Agenda</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://cdn.tailwindcss.com"></script>
<script>
tailwind.config = {
  theme: {
    extend: {
      colors: {
        primary: '#d4af37',
        dark: '#111111'
      }
    }
  }
}
</script>
</head>

<body class="bg-dark text-white">

<!-- HEADER -->
<header class="fixed top-0 w-full bg-black bg-opacity-80 z-50">
  <div class="max-w-6xl mx-auto px-6 py-4 flex justify-between items-center">
    <h1 class="text-xl font-bold text-primary">Jere Barber</h1>
  </div>
</header>

<!-- HERO -->
<section class="min-h-screen flex items-center justify-center bg-[url('https://images.unsplash.com/photo-1621607512214-68297480165e')] bg-cover bg-center">
  <div class="bg-black bg-opacity-70 p-10 rounded-lg text-center mt-20">
    <h2 class="text-4xl font-bold mb-4">Agenda tu hora</h2>
    <p class="text-gray-300">Revisa disponibilidad real antes de agendar</p>
  </div>
</section>

<!-- AGENDA -->
<section class="py-20 px-6 bg-black">
  <div class="max-w-2xl mx-auto bg-dark p-8 rounded-lg">

    <h3 class="text-2xl font-bold text-primary mb-6 text-center">
      Disponibilidad
    </h3>

    <!-- CALENDARIO -->
    <div class="mb-6">
      <p class="mb-2 font-semibold">Selecciona un dÃ­a</p>
      <div id="calendar" class="grid grid-cols-7 gap-2 text-center"></div>
    </div>

    <!-- SERVICIO -->
    <label class="block mb-2">Servicio</label>
    <select id="servicio" class="w-full p-3 mb-4 bg-black border border-gray-700 rounded">
      <option value="">Selecciona servicio</option>
      <option>Corte</option>
      <option>Corte + Barba</option>
      <option>Corte Especial</option>
    </select>

    <!-- HORAS -->
    <label class="block mb-2">Hora disponible</label>
    <select id="hora" class="w-full p-3 mb-6 bg-black border border-gray-700 rounded">
      <option value="">Selecciona hora</option>
    </select>

    <button onclick="enviarWhatsApp()"
      class="w-full bg-primary text-black py-3 rounded font-semibold hover:opacity-90">
      Enviar solicitud por WhatsApp
    </button>

  </div>
</section>

<footer class="bg-dark py-6 text-center text-gray-400 text-sm">
ðŸ“² WhatsApp +56 9 5646 8989
</footer>

<script>
const calendarEl = document.getElementById('calendar');
const horaSelect = document.getElementById('hora');
let fechaSeleccionada = null;

// Crear calendario simple (30 dÃ­as desde hoy)
function crearCalendario() {
  calendarEl.innerHTML = '';
  const hoy = new Date();

  for (let i = 0; i < 30; i++) {
    const fecha = new Date();
    fecha.setDate(hoy.getDate() + i);

    const diaSemana = fecha.getDay();
    const btn = document.createElement('button');

    btn.textContent = fecha.getDate();
    btn.className = 'p-2 rounded bg-black border border-gray-700';

    if (diaSemana === 0) {
      btn.disabled = true;
      btn.classList.add('opacity-30');
    } else {
      btn.onclick = () => seleccionarFecha(fecha, btn);
    }

    calendarEl.appendChild(btn);
  }
}

function seleccionarFecha(fecha, btn) {
  fechaSeleccionada = fecha;

  document.querySelectorAll('#calendar button').forEach(b => {
    b.classList.remove('bg-primary', 'text-black');
  });

  btn.classList.add('bg-primary', 'text-black');
  cargarHoras(fecha);
}

function cargarHoras(fecha) {
  horaSelect.innerHTML = '<option value="">Selecciona hora</option>';
  const dia = fecha.getDay();

  let inicio, fin;
  if (dia >= 1 && dia <= 5) {
    inicio = 15; fin = 21;
  } else if (dia === 6) {
    inicio = 11; fin = 18;
  }

  for (let h = inicio; h < fin; h++) {
    const option = document.createElement('option');
    option.value = `${h}:00`;
    option.textContent = `${h}:00`;
    horaSelect.appendChild(option);
  }
}

function enviarWhatsApp() {
  const servicio = document.getElementById('servicio').value;
  const hora = horaSelect.value;

  if (!fechaSeleccionada || !servicio || !hora) {
    alert('Completa todos los datos');
    return;
  }

  const fechaTxt = fechaSeleccionada.toLocaleDateString('es-CL');

  const mensaje = `Hola ðŸ‘‹ quiero agendar en Jere Barber:

ðŸ“… DÃ­a: ${fechaTxt}
â° Hora: ${hora}
âœ‚ï¸ Servicio: ${servicio}

Quedo atento ðŸ‘`;

  window.open(
    `https://wa.me/56956468989?text=${encodeURIComponent(mensaje)}`,
    '_blank'
  );
}

crearCalendario();
</script>

</body>
</html>
